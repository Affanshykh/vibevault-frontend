"use strict";(()=>{var e={};e.id=352,e.ids=[352],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},4199:(e,t,r)=>{r.r(t),r.d(t,{config:()=>l,default:()=>f,routeModule:()=>u});var o={};r.r(o),r.d(o,{config:()=>d,default:()=>c});var a=r(1802),s=r(7153),n=r(6249),i=r(9915);let d={api:{bodyParser:!1}},c=async(e,t)=>{await (0,i.L)(e,t)},f=(0,n.l)(o,"default"),l=(0,n.l)(o,"config"),u=new a.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/[...proxyPath]",pathname:"/api/[...proxyPath]",bundlePath:"",filename:""},userland:o})},9915:(e,t,r)=>{r.d(t,{L:()=>f});let o=(process.env.BACKEND_BASE_URL||process.env.NEXT_PUBLIC_API_BASE_URL||"https://vibevault-backend.vercel.app").replace(/\/$/,""),a=new Set(["connection","content-length","host"]),s=new Set(["GET","HEAD"]),n=async e=>{let t=[];for await(let r of e)t.push("string"==typeof r?Buffer.from(r):r);return Buffer.concat(t)},i=e=>e.map(e=>e.replace(/;\s*Domain=[^;]+/gi,"")),d=e=>{let t=new Headers;return Object.entries(e.headers).forEach(([e,r])=>{!r||a.has(e.toLowerCase())||(Array.isArray(r)?t.set(e,r.join(",")):t.set(e,r))}),!t.has("x-forwarded-for")&&e.socket?.remoteAddress&&t.set("x-forwarded-for",e.socket.remoteAddress),!t.has("x-forwarded-host")&&e.headers.host&&t.set("x-forwarded-host",e.headers.host),t.has("x-forwarded-proto")||t.set("x-forwarded-proto",e.headers["x-forwarded-proto"]||"https"),t},c=async(e,t,r,o=!0,a={})=>{let s=r.headers,n=[];s.forEach((e,t)=>{n.push([t,e])}),n.forEach(([e,r])=>{let o=e.toLowerCase();if("set-cookie"===o||"location"===o)return;let a=t.getHeader(e);if(a){let o=Array.isArray(a)?a.concat(r):[a,r];t.setHeader(e,o)}else t.setHeader(e,r)});let d=[];if("function"==typeof s.getSetCookie)d=s.getSetCookie();else{let e=s.get("set-cookie");e&&(d=[e])}d.length>0&&t.setHeader("set-cookie",i(d));let c=s.get("location");if(c){let r=a.rewriteLocation?a.rewriteLocation(c,e):c;r&&t.setHeader("location",r)}if(t.status(r.status),!o){t.end();return}let f=Buffer.from(await r.arrayBuffer());t.send(f)},f=async(e,t,r,a={})=>{let i;let f=r??e.url??"",l=`${o}${f}`,u=d(e);!s.has((e.method||"GET").toUpperCase())&&(i=await n(e),u.delete("content-type"),e.headers["content-type"]&&u.set("content-type",e.headers["content-type"]));try{let r=await fetch(l,{method:e.method,headers:u,redirect:"manual",body:i}),o=e.method?.toUpperCase()!=="HEAD"&&204!==r.status;await c(e,t,r,o,a)}catch(r){let e=r instanceof Error?r.message:"Unknown proxy error";t.status(502).json({message:"Upstream request failed",detail:e})}}},7153:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{e.exports=r(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=4199);module.exports=r})();