"use strict";(()=>{var e={};e.id=492,e.ids=[492],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},5590:(e,t,r)=>{r.r(t),r.d(t,{config:()=>u,default:()=>h,routeModule:()=>f});var a={};r.r(a),r.d(a,{config:()=>d,default:()=>l});var o=r(1802),s=r(7153),n=r(6249),i=r(9915);let d={api:{bodyParser:!1}},c=(e="")=>e.replace(/^\/api\/auth/i,"/auth"),l=async(e,t)=>{let r=c(e.url);await (0,i.L)(e,t,r,{rewriteLocation:t=>{let r;if(!t)return t;try{r=new URL(t,"http://placeholder.local")}catch{return t}let a=r.pathname.startsWith("/")?r.pathname:`/${r.pathname}`;if(!a.startsWith("/auth/"))return t;let o=e.headers.host;if(!o)return t;let s=e.headers["x-forwarded-proto"]||"https";return`${s}://${o}/api${a}${r.search}${r.hash}`}})},h=(0,n.l)(a,"default"),u=(0,n.l)(a,"config"),f=new o.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/auth/[...authPath]",pathname:"/api/auth/[...authPath]",bundlePath:"",filename:""},userland:a})},9915:(e,t,r)=>{r.d(t,{L:()=>l});let a=(process.env.BACKEND_BASE_URL||process.env.NEXT_PUBLIC_API_BASE_URL||"https://vibevault-backend.vercel.app").replace(/\/$/,""),o=new Set(["connection","content-length","host"]),s=new Set(["GET","HEAD"]),n=async e=>{let t=[];for await(let r of e)t.push("string"==typeof r?Buffer.from(r):r);return Buffer.concat(t)},i=e=>e.map(e=>e.replace(/;\s*Domain=[^;]+/gi,"")),d=e=>{let t=new Headers;return Object.entries(e.headers).forEach(([e,r])=>{!r||o.has(e.toLowerCase())||(Array.isArray(r)?t.set(e,r.join(",")):t.set(e,r))}),!t.has("x-forwarded-for")&&e.socket?.remoteAddress&&t.set("x-forwarded-for",e.socket.remoteAddress),!t.has("x-forwarded-host")&&e.headers.host&&t.set("x-forwarded-host",e.headers.host),t.has("x-forwarded-proto")||t.set("x-forwarded-proto",e.headers["x-forwarded-proto"]||"https"),t},c=async(e,t,r,a=!0,o={})=>{let s=r.headers,n=[];s.forEach((e,t)=>{n.push([t,e])}),n.forEach(([e,r])=>{let a=e.toLowerCase();if("set-cookie"===a||"location"===a)return;let o=t.getHeader(e);if(o){let a=Array.isArray(o)?o.concat(r):[o,r];t.setHeader(e,a)}else t.setHeader(e,r)});let d=[];if("function"==typeof s.getSetCookie)d=s.getSetCookie();else{let e=s.get("set-cookie");e&&(d=[e])}d.length>0&&t.setHeader("set-cookie",i(d));let c=s.get("location");if(c){let r=o.rewriteLocation?o.rewriteLocation(c,e):c;r&&t.setHeader("location",r)}if(t.status(r.status),!a){t.end();return}let l=Buffer.from(await r.arrayBuffer());t.send(l)},l=async(e,t,r,o={})=>{let i;let l=r??e.url??"",h=`${a}${l}`,u=d(e);!s.has((e.method||"GET").toUpperCase())&&(i=await n(e),u.delete("content-type"),e.headers["content-type"]&&u.set("content-type",e.headers["content-type"]));try{let r=await fetch(h,{method:e.method,headers:u,redirect:"manual",body:i}),a=e.method?.toUpperCase()!=="HEAD"&&204!==r.status;await c(e,t,r,a,o)}catch(r){let e=r instanceof Error?r.message:"Unknown proxy error";t.status(502).json({message:"Upstream request failed",detail:e})}}},7153:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{e.exports=r(145)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=t(t.s=5590);module.exports=r})();